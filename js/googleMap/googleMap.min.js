function initialize(){var e=[],o=new google.maps.Map(document.getElementById("map-canvas"),{mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:11}),a=new google.maps.TransitLayer;a.setMap(o);var n=document.createElement("DIV");new Legend(n,o);n.index=1,o.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(n),o.setCenter(new google.maps.LatLng(1.352083,103.81983600000001),13);var t=document.getElementById("pac-input");o.controls[google.maps.ControlPosition.TOP_LEFT].push(t);var l=new google.maps.places.SearchBox(t);google.maps.event.addListener(l,"places_changed",function(){var a=l.getPlaces();if(0!=a.length){for(var n,t=0;n=e[t];t++)n.setMap(null);e=[];for(var i,r=new google.maps.LatLngBounds,t=0;i=a[t];t++){var n=new google.maps.Marker({map:o,title:i.name,position:i.geometry.location});drawArea(o,i.geometry.location),r.extend(i.geometry.location)}}}),google.maps.event.addListener(o,"bounds_changed",function(){var e=o.getBounds();l.setBounds(e)})}function Legend(e,o){e.style.padding="5px";var a=document.createElement("DIV");a.style.backgroundColor="white",a.style.borderStyle="solid",a.style.borderWidth="1px",a.title="Legend",e.appendChild(a);var n=document.createElement("DIV");n.style.fontFamily="Arial,sans-serif",n.style.fontSize="12px",n.style.paddingLeft="4px",n.style.paddingRight="4px",n.innerHTML="<b>Distance</b><br />1KM Radius (Inner Circle)<br />2KM Radius (Outer Circle)<br />",a.appendChild(n)}function drawArea(e,o){var a={};a.HDBGrant={center:o,distance:1,scEligibleVacancy:38,sprEligibleVacancy:3,fillColor:"#1aa3ff"},a.School={center:o,distance:2,scEligibleVacancy:10,sprEligibleVacancy:1,fillColor:"#66c2ff"};for(var n in a){var t={strokeColor:a[n].fillColor,strokeOpacity:.8,strokeWeight:2,fillColor:a[n].fillColor,fillOpacity:.15,map:e,center:a[n].center,radius:1e3*a[n].distance};cityCircle=new google.maps.Circle(t)}}google.maps.event.addDomListener(window,"load",initialize);